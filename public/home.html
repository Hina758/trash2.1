<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í™ˆ - Trash Game</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .home-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 50px; width: 100%; max-width: 600px; }
        #welcome-message { font-size: 1.5rem; color: #eee; }
        .btn-small { padding: 8px 15px; font-size: 0.9rem; }
        .home-main { display: flex; flex-direction: column; gap: 20px; width: 100%; max-width: 400px; }
        .btn-large { padding: 20px 30px; font-size: 1.5rem; }
        .guest-auth-buttons { display: none; flex-direction: row; gap: 15px; margin-top: 40px; }
    </style>
</head>
<body>
    <div class="container">
        <header class="home-header">
            <h1 id="welcome-message">...ë‹˜, í™˜ì˜í•©ë‹ˆë‹¤!</h1>
            <button id="logout-button" class="btn btn-secondary btn-small">ë¡œê·¸ì•„ì›ƒ</button>
        </header>

        <main class="home-main">
            <a href="mode_select.html" class="btn btn-large">ğŸ® ê²Œì„ í”Œë ˆì´</a>
            <a href="account.html" id="account-button" class="btn btn-large">ğŸ‘¤ ê³„ì • ì •ë³´</a>
            <a href="leaderboard.html" class="btn btn-large">ğŸ† ìˆœìœ„í‘œ</a>
        </main>

        <!-- ê²ŒìŠ¤íŠ¸ìš© ë¡œê·¸ì¸/íšŒì›ê°€ì… ë²„íŠ¼ -->
        <div id="guest-auth-buttons" class="guest-auth-buttons">
            <a href="login.html" class="btn">ë¡œê·¸ì¸</a>
            <a href="signup.html" class="btn">íšŒì›ê°€ì…</a>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const welcomeMessage = document.getElementById('welcome-message');
            const logoutButton = document.getElementById('logout-button');
            const accountButton = document.getElementById('account-button');
            const guestAuthButtons = document.getElementById('guest-auth-buttons');

            const userData = sessionStorage.getItem('loggedInUser');

            if (userData) {
                const user = JSON.parse(userData);
                welcomeMessage.textContent = `${user.username}ë‹˜, í™˜ì˜í•©ë‹ˆë‹¤!`;
            } else {
                welcomeMessage.textContent = 'ê²ŒìŠ¤íŠ¸ë‹˜, í™˜ì˜í•©ë‹ˆë‹¤!';
                logoutButton.style.display = 'none';
                accountButton.style.display = 'none';
                guestAuthButtons.style.display = 'flex'; // ê²ŒìŠ¤íŠ¸ì¼ ë•Œ ë²„íŠ¼ í‘œì‹œ
            }

            logoutButton.addEventListener('click', () => {
                sessionStorage.removeItem('loggedInUser');
                window.location.href = 'index.html';
            });
        });
    </script>
</body>
</html>